(this["webpackJsonpmain-client"]=this["webpackJsonpmain-client"]||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(37),i=n.n(a),s=(n(64),n(4)),o=n(16),u=n(18),l=n(0);function d(e){var t=e.title,n=e.className,r=e.onClose,a=e.children;return Object(c.useEffect)((function(){return document.body.classList.add("body-modal"),function(){document.body.classList.remove("body-modal")}})),i.a.createPortal(Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"modal-container",children:[Object(l.jsx)("div",{className:"modal-blocker"}),Object(l.jsxs)("div",{className:"modal-content "+n,children:[Object(l.jsxs)("div",{className:"modal-content-header",children:[Object(l.jsx)("div",{className:"header-text",children:t}),void 0!==r&&Object(l.jsx)(u.a,{className:"close-icon",icon:o.h,onClick:r})]}),a]})]})}),document.getElementById("modal"))}function j(){var e=Object(c.useContext)(D),t=Object(c.useContext)(A),n=T(),r=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e;null===r||void 0===r||null===(e=r.current)||void 0===e||e.focus()}),[]),Object(l.jsxs)(d,{children:[Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsx)("p",{children:null===t||void 0===t?void 0:t.message})}),Object(l.jsxs)("div",{className:"modal-footer",children:[Object(l.jsxs)("button",{onClick:function(){var c;"Unauthorized"===(null===t||void 0===t?void 0:t.message)&&n(!1),e(),null===t||void 0===t||null===(c=t.onOk)||void 0===c||c.call(t)},className:"btn-modal btn-primary",ref:r,children:[(void 0===(null===t||void 0===t?void 0:t.action)||"OKCANCEL"===(null===t||void 0===t?void 0:t.action))&&Object(l.jsx)("span",{children:"OK"}),"YESNO"===(null===t||void 0===t?void 0:t.action)&&Object(l.jsx)("span",{children:"YES"})]}),(null===t||void 0===t?void 0:t.action)&&Object(l.jsxs)("button",{onClick:function(){e()},className:"btn-modal btn-secondary ",children:["OKCANCEL"===(null===t||void 0===t?void 0:t.action)&&Object(l.jsx)("span",{children:"CANCEL"}),"YESNO"===(null===t||void 0===t?void 0:t.action)&&Object(l.jsx)("span",{children:"NO"})]})]})]})}var f="http:"===window.location.protocol?"http://192.168.210.250:808":"https://119.93.121.249:808",b="nothingunusualkey",v=1,p=1,h=2,O=3,x=n(68),m="--pxx--",y="--pxx-xdx--";function w(e){return x.AES.encrypt(e,b).toString()}function g(e){return x.AES.decrypt(e,b).toString(x.enc.Utf8)}function k(e){void 0!==e.token&&void 0!==e.refreshToken&&sessionStorage.setItem(m,w(JSON.stringify(e)))}function C(){sessionStorage.removeItem(m)}function N(){try{var e;return JSON.parse(g(null!==(e=sessionStorage.getItem(m))&&void 0!==e?e:""))}catch(t){return}}function S(e){if(void 0!==e){var t={username:e.username,admin:e.admin,personnel:e.personnel,distinctModules:e.distinctModules};sessionStorage.setItem(y,w(JSON.stringify(t)))}}var E=r.a.createContext(!1),I=r.a.createContext(void 0),P=r.a.createContext((function(){})),D=r.a.createContext((function(){})),A=r.a.createContext(void 0),F=r.a.createContext(!1),R=r.a.createContext((function(){})),U=r.a.createContext((function(){})),M=r.a.createContext((function(){}));function L(){return Object(c.useContext)(I)}function T(){return Object(c.useContext)(R)}function Y(){return Object(c.useContext)(P)}function K(){return Object(c.useContext)(U)}function V(){return Object(c.useContext)(M)}function z(e){var t=e.children,n=Object(c.useState)((function(){var e=N();return void 0!==(null===e||void 0===e?void 0:e.token)})),r=Object(s.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)((function(){return function(){try{var e;return JSON.parse(g(null!==(e=sessionStorage.getItem(y))&&void 0!==e?e:""))}catch(t){return}}()})),u=Object(s.a)(o,2),d=u[0],f=u[1],b=Object(c.useState)(!1),v=Object(s.a)(b,2),p=v[0],h=v[1],O=Object(c.useState)(),x=Object(s.a)(O,2),m=x[0],w=x[1],k=Object(c.useState)((function(){return 0})),C=Object(s.a)(k,2),S=C[0],L=C[1];return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"loading-screen"+(S>0?" loading-block":""),children:[Object(l.jsx)("div",{className:"loading-blocker"}),Object(l.jsx)("div",{className:"loading",children:Object(l.jsx)("label",{children:" Please Wait"})})]}),Object(l.jsx)(U.Provider,{value:function(e){L((function(t){return t+(e?1:-1)})),S+(e?1:-1)===1?document.body.classList.add("body-modal"):document.body.classList.remove("body-modal")},children:Object(l.jsx)(F.Provider,{value:p,children:Object(l.jsx)(D.Provider,{value:function(){h(!1)},children:Object(l.jsx)(A.Provider,{value:m,children:Object(l.jsx)(P.Provider,{value:function(e){w(e),h(!0)},children:Object(l.jsx)(E.Provider,{value:a,children:Object(l.jsx)(R.Provider,{value:function(e){e||(sessionStorage.clear(),f(void 0)),i(e)},children:Object(l.jsx)(I.Provider,{value:d,children:Object(l.jsxs)(M.Provider,{value:function(e){f(e)},children:[t,p&&Object(l.jsx)(j,{})]})})})})})})})})})]})}var B=n(12),J=n(35),W=n(15),q=n(14),G=n(6),H=n(3),Q=n(1),X=n.n(Q),Z="securities/refresh",$="securities/log",_="users/profile",ee="users/search",te="users/activate",ne="users/reset-password",ce="users",re="users",ae="users",ie="users/profile",se="modules",oe="roles/search",ue="roles",le="roles",de="roles",je="concerns/search",fe="concerns",be="concerns",ve="concerns",pe="concerns/assign",he="classifications",Oe="classifications/search",xe="classifications",me="classifications",ye="offices",we="offices/search",ge="offices",ke="offices",Ce="personnels",Ne="personnels/classification/available",Se="personnels/search",Ee="personnels",Ie="personnels",Pe="personnel-concerns",De="personnel-concerns/actions",Ae="personnel-concerns/resolve",Fe="personnel-concerns/forward",Re="personnel-concerns/summary",Ue="personnel-concerns/detailed-summary",Me="/transaction-hub",Le=n(33),Te=n.n(Le);function Ye(e){return Ke.apply(this,arguments)}function Ke(){return Ke=Object(H.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(null===(n=N())||void 0===n?void 0:n.token)){e.next=3;break}throw new Error("Unauthorized");case 3:return e.next=5,Te.a.get(t,{headers:{Authorization:"Bearer "+(null===n||void 0===n?void 0:n.token),"content-type":"application/json"},baseURL:f}).then(function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=200===e.t0?3:4;break;case 3:return e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(H.a)(X.a.mark((function e(n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.response){e.next=15;break}e.t0=n.response.status,e.next=400===e.t0?4:403===e.t0?5:401===e.t0?6:404===e.t0?13:14;break;case 4:case 14:throw new Error(n.response.data);case 5:throw new Error("Access denied");case 6:return e.next=8,Qe();case 8:if(!e.sent){e.next=12;break}return e.next=11,Ye(t);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unauthorized");case 13:throw new Error("Not Data Found");case 15:throw new Error(n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),Ke.apply(this,arguments)}function Ve(e,t){return ze.apply(this,arguments)}function ze(){return ze=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(c=N())||void 0===c?void 0:c.token)){e.next=3;break}throw new Error("Unauthorized");case 3:return e.next=5,Te.a.post(t,n,{headers:{Authorization:"Bearer "+(null===c||void 0===c?void 0:c.token),"content-type":"application/json"},baseURL:f}).then(function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=200===e.t0?3:201===e.t0?4:204===e.t0?5:6;break;case 3:case 4:return e.abrupt("return",t.data);case 5:return e.abrupt("return",!0);case 6:throw new Error("Unknown Error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(H.a)(X.a.mark((function e(c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.response){e.next=15;break}e.t0=c.response.status,e.next=400===e.t0?4:403===e.t0?5:401===e.t0?6:404===e.t0?13:14;break;case 4:case 14:throw new Error(c.response.data);case 5:throw new Error("Access denied");case 6:return e.next=8,Qe();case 8:if(!e.sent){e.next=12;break}return e.next=11,Ve(t,n);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unauthorized");case 13:throw new Error("No Data Found");case 15:throw new Error(c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),ze.apply(this,arguments)}function Be(e,t){return Je.apply(this,arguments)}function Je(){return Je=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(c=N())||void 0===c?void 0:c.token)){e.next=3;break}throw new Error("Unauthorized");case 3:return e.next=5,Te.a.put(t,n,{headers:{Authorization:"Bearer "+(null===c||void 0===c?void 0:c.token),"content-type":"application/json"},baseURL:f}).then(function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=204===e.t0?3:4;break;case 3:return e.abrupt("return",!0);case 4:throw new Error("Unknown Error");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(H.a)(X.a.mark((function e(c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.response){e.next=15;break}e.t0=c.response.status,e.next=400===e.t0?4:403===e.t0?5:401===e.t0?6:404===e.t0?13:14;break;case 4:case 14:throw new Error(c.response.data);case 5:throw new Error("Access denied");case 6:return e.next=8,Qe();case 8:if(!e.sent){e.next=12;break}return e.next=11,Be(t,n);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unauthorized");case 13:throw new Error("No Data Found");case 15:throw new Error(c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),Je.apply(this,arguments)}function We(e){return qe.apply(this,arguments)}function qe(){return qe=Object(H.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===(n=N())||void 0===n?void 0:n.token)){e.next=3;break}throw new Error("Unauthorized");case 3:return e.next=5,Te.a.delete(t,{headers:{Authorization:"Bearer "+(null===n||void 0===n?void 0:n.token),"content-type":"application/json"},baseURL:f}).then(function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=204===e.t0?3:4;break;case 3:return e.abrupt("return",!0);case 4:throw new Error("Unknown Error");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(H.a)(X.a.mark((function e(n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.response){e.next=15;break}e.t0=n.response.status,e.next=400===e.t0?4:403===e.t0?5:401===e.t0?6:404===e.t0?13:14;break;case 4:case 14:throw new Error(n.response.data);case 5:throw new Error("Access denied");case 6:return e.next=8,Qe();case 8:if(!e.sent){e.next=12;break}return e.next=11,We(t);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unauthorized");case 13:throw new Error("No Data Found");case 15:throw new Error(n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),qe.apply(this,arguments)}function Ge(e,t){return He.apply(this,arguments)}function He(){return He=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.a.post(t,JSON.stringify(n),{headers:{"content-type":"application/json"},baseURL:f}).then((function(e){if(200===e.status)return e.data;throw new Error("Unknown Error")})).catch(function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=7;break}e.t0=t.response.status,e.next=400===e.t0?4:404===e.t0?5:6;break;case 4:case 6:throw new Error(t.response.data);case 5:throw new Error("No Data Found");case 7:throw new Error(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),He.apply(this,arguments)}function Qe(){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(H.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N(),e.next=3,Ge(Z,t).then((function(e){if(void 0!==e)return k(e),!0;throw new Error("Unauthorized")})).catch((function(){throw C(),new Error("Unauthorized")}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e){return $e.apply(this,arguments)}function $e(){return($e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge($,t).then((function(e){return k(e),!0}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return et.apply(this,arguments)}function et(){return(et=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(_);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(){return(tt=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Ye(ee+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(te+"/"+t,null);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e){return at.apply(this,arguments)}function at(){return(at=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(ne+"/"+t,null);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e){return st.apply(this,arguments)}function st(){return(st=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We(ce+"/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t){return ut.apply(this,arguments)}function ut(){return(ut=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(re,Object(G.a)(Object(G.a)({},t),{},{roleIds:n}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t,n){return dt.apply(this,arguments)}function dt(){return(dt=Object(H.a)(X.a.mark((function e(t,n,c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(ae+"/"+t.id,Object(G.a)(Object(G.a)({},t),{},{newRoleIds:n,accessToDelete:c}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(ie,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e){var t=e.title,n=e.name,r=e.type,a=e.id,i=e.className,d=e.value,j=e.readonly,f=e.onChange,b=e.onKeyPress,v=Object(c.useState)(!0),p=Object(s.a)(v,2),h=p[0],O=p[1];return Object(l.jsxs)("div",{className:"custom-input ",children:[Object(l.jsx)("label",{htmlFor:n,children:t}),Object(l.jsx)("div",{className:"input-container",children:j?Object(l.jsx)("span",{children:d}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{type:"password"===r?h?"password":"text":null!==r&&void 0!==r?r:"text",name:n,id:a,value:d,className:i,onChange:function(e){return null===f||void 0===f?void 0:f({elementName:null!==n&&void 0!==n?n:"",value:e.target.value})},onKeyPress:b}),"password"===r&&Object(l.jsx)("div",{className:"eye-container",children:Object(l.jsx)(u.a,{icon:h?o.e:o.f,className:"eye-icon",onClick:function(){O((function(e){return!e}))}})})]})})]})}function vt(){var e=Object(c.useState)({username:"",password:""}),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Y(),i=V(),o=T(),u=K();function d(){return j.apply(this,arguments)}function j(){return j=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Ze(n).then(function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,f();case 3:o(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function f(){return b.apply(this,arguments)}function b(){return(b=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,_e().then((function(e){void 0!==e&&(S(e),i(e))})).catch((function(e){a({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=e.elementName,c=e.value;r(Object(G.a)(Object(G.a)({},n),{},Object(q.a)({},t,c)))}function p(e){if("Enter"===e.key){var t,c;if(""===n.username)return void(null===(t=document.getElementById("username"))||void 0===t||t.focus());if(""===n.password)return void(null===(c=document.getElementById("password"))||void 0===c||c.focus());d()}}return Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"login-container",children:[Object(l.jsx)("div",{className:"login-header",children:Object(l.jsx)("h1",{children:"User Authentication"})}),Object(l.jsxs)("div",{className:"login-content",children:[Object(l.jsx)(bt,{title:"Username",name:"username",id:"username",className:"username",onChange:v,onKeyPress:p}),Object(l.jsx)(bt,{title:"Password",name:"password",id:"password",type:"password",className:"password",onChange:v,onKeyPress:p}),Object(l.jsx)("button",{onClick:d,className:"btn",children:"Login"})]})]})})}function pt(e){var t=e.pages,n=e.currentPageNumber,r=e.goInPage,a=Object(c.useState)(n),i=Object(s.a)(a,2),d=i[0],j=i[1],f=Object(c.useState)(!1),b=Object(s.a)(f,2),v=b[0],p=b[1],h=Object(c.useState)(!1),O=Object(s.a)(h,2),x=O[0],m=O[1],y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(!1),N=Object(s.a)(C,2),S=N[0],E=N[1],I=Object(c.useState)([]),P=Object(s.a)(I,2),D=P[0],A=P[1];return Object(c.useEffect)((function(){j(n);for(var e=[],c=1;c<=t;c++)e.push(c);return A(e),k(!1),E(!1),p(!1),m(!1),t>1&&(n!==t&&(k(!0),E(!0)),1!==n&&(p(!0),m(!0))),function(){e=[]}}),[t,n]),Object(l.jsxs)("div",{className:"pagination",children:[Object(l.jsx)(u.a,{icon:o.a,className:v?"":"disabled",onClick:function(){v&&(r(1),p(!1),m(!1),k(!0),E(!0))}}),Object(l.jsx)(u.a,{icon:o.c,onClick:function(){x&&(j((function(e){return 1===(e-=1)&&(p(!1),m(!1)),r(e),e})),k(!0),E(!0))},className:x?"":"disabled"}),Object(l.jsxs)("div",{className:"pages-container",children:[Object(l.jsx)("button",{className:"current-page",children:d}),Object(l.jsx)("div",{className:"pages",children:D.map((function(e){return Object(l.jsx)("div",{className:e===d?"active":"",onClick:function(){var n;j(n=e),p(!0),m(!0),k(!0),E(!0),1===n&&(p(!1),m(!1)),n===t&&(k(!1),E(!1)),r(n)},children:e},e)}))})]}),Object(l.jsx)(u.a,{icon:o.d,onClick:function(){g&&(j((function(e){return(e+=1)===t&&(k(!1),E(!1)),r(e),e})),p(!0),m(!0))},className:g?"":"disabled"}),Object(l.jsx)(u.a,{icon:o.b,onClick:function(){S&&(j(t),k(!1),E(!1),p(!0),m(!0),r(t))},className:S?"":"disabled"})]})}function ht(e){var t=e.search,n=Object(c.useState)(""),r=Object(s.a)(n,2),a=r[0],i=r[1];return Object(l.jsxs)("div",{className:"search-container",children:[Object(l.jsx)("input",{type:"text",className:"name",placeholder:"Search...",value:a,onChange:function(e){i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t(a)}}),Object(l.jsx)(u.a,{className:"search-icon",icon:o.g,onClick:function(){t(a)}})]})}function Ot(e){var t,n,c,r,a,i,s=e.user,o=e.action;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:null===(t=s.personnel)||void 0===t?void 0:t.name}),Object(l.jsx)("td",{children:null===(n=s.personnel)||void 0===n||null===(c=n.classification)||void 0===c?void 0:c.description}),Object(l.jsx)("td",{children:s.username}),Object(l.jsxs)("td",{className:"elipsis",children:[s.admin?"Admin":"User",(null!==(r=null===(a=s.userRoles)||void 0===a?void 0:a.length)&&void 0!==r?r:0)>0&&" | ",null===(i=s.userRoles)||void 0===i?void 0:i.map((function(e){return e.role.description})).join(" | ")]}),Object(l.jsx)("td",{children:s.active?"Active":"Inactive"}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return o({type:"Activate",id:s.id,active:s.active})},children:"Activate/Deactivate"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return o({type:"ResetPassword",id:s.id})},children:"Reset Password"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return o({type:"Edit",user:s})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return o({type:"Delete",id:s.id})},children:"Delete"})]})]})}function xt(){return mt.apply(this,arguments)}function mt(){return(mt=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye(Ce));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e){return wt.apply(this,arguments)}function wt(){return(wt=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye("".concat(Ne,"?classificationId=").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(){return(gt=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Ye(Se+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve(Ee,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(e){return St.apply(this,arguments)}function St(){return(St=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Be("".concat(Ie,"/").concat(t.id),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(){return It.apply(this,arguments)}function It(){return(It=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye(ue));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(){return(Pt=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Ye(oe+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(e,t){return At.apply(this,arguments)}function At(){return(At=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(le,{description:t,moduleIds:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ft(e,t,n,c){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(H.a)(X.a.mark((function e(t,n,c,r){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(de+"/"+t,{description:n,newModuleIds:c,accessToDelete:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e){var t=e.title,n=e.name,c=e.id,r=e.className,a=e.isCheck,i=e.onChange;return Object(l.jsx)("div",{className:"custom-input "+r,children:Object(l.jsx)("button",{className:"checkbox"+(a?" checked":""),value:a?"true":"false",id:c,onClick:function(){null===i||void 0===i||i({elementName:null!==n&&void 0!==n?n:"",value:!a})},children:t})})}function Mt(e){var t,n=e.title,c=e.name,r=e.id,a=e.className,i=e.value,s=e.itemsList,o=e.readonly,u=e.onChange;return Object(l.jsxs)("div",{className:"custom-input",children:[Object(l.jsx)("label",{children:n}),Object(l.jsx)("div",{className:"select-container",children:o?Object(l.jsx)("span",{children:null===(t=s.find((function(e){return e.key===i})))||void 0===t?void 0:t.value}):Object(l.jsx)("select",{id:r,className:a,onChange:function(e){var t;null===u||void 0===u||u({elementName:null!==c&&void 0!==c?c:"",value:null!==(t=""===e.target.value?"0":e.target.value)&&void 0!==t?t:"0"})},children:null===s||void 0===s?void 0:s.map((function(e){return Object(l.jsx)("option",{value:e.key,selected:e.value===i,children:e.value},e.key)}))})})]})}function Lt(){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(se);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e){var t=e.isCheck,n=e.checkChange,c=e.id,r=e.text;return Object(l.jsxs)("div",{className:"check",children:[Object(l.jsxs)("label",{className:"check-container",children:[Object(l.jsx)("input",{type:"checkbox",id:null!==c&&void 0!==c?c:"check",onChange:n,checked:t}),Object(l.jsx)("span",{className:"checkmark"})]}),r&&Object(l.jsx)("label",{className:"check-label",htmlFor:null!==c&&void 0!==c?c:"check",children:r})]})}function Kt(e){var t,n=e.module,r=Object(c.useContext)(zt);return Object(l.jsx)("tr",{children:Object(l.jsx)("td",{className:"left-content",children:n.viewOnly?Object(l.jsx)("div",{children:n.description}):Object(l.jsx)(Yt,{checkChange:function(){r({action:"Check",payload:n})},id:n.id.toString(),text:n.description,isCheck:null!==(t=null===n||void 0===n?void 0:n.checked)&&void 0!==t&&t})})})}function Vt(){var e=Object(c.useContext)(Bt);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"Module Access"})})}),Object(l.jsx)("tbody",{children:e.map((function(e){return Object(l.jsx)(Kt,{module:e},e.id)}))})]})}var zt=Object(c.createContext)((function(){})),Bt=Object(c.createContext)([]);function Jt(e){var t=e.selectedRole,n=e.onClose,r=e.viewOnly,a=Object(c.useState)((function(){return null!==t&&void 0!==t?t:{id:0,description:"",accesses:[]}})),i=Object(s.a)(a,2),o=i[0],u=i[1],j=Object(c.useState)([]),f=Object(s.a)(j,2),b=f[0],v=f[1],p=K(),h=Y();function O(){return(O=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),0!==o.id){e.next=6;break}return e.next=4,Dt(o.description,b.filter((function(e){return e.checked})).map((function(e){return e.id}))).then((function(){h({message:"Role Added",onOk:function(){n(!0)}})})).catch((function(e){h({message:e.message})})).finally((function(){return p(!1)}));case 4:e.next=8;break;case 6:return e.next=8,Ft(o.id,o.description,b.filter((function(e){return e.checked&&void 0===e.accessId})).map((function(e){return e.id})),b.filter((function(e){return!e.checked&&void 0!==e.accessId})).map((function(e){var t;return null!==(t=e.accessId)&&void 0!==t?t:0}))).then((function(){h({message:"Role Updated",onOk:function(){n(!0)}})})).catch((function(e){h({message:e.message})})).finally((function(){return p(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.action,e.next="Check"===e.t0?3:5;break;case 3:return v(b.map((function(e){return e.id===t.payload.id&&(e.checked=!e.checked),e}))),e.abrupt("break",5);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return w=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,Lt().then((function(e){if(void 0!==e){var t=e.map((function(e){var t,n,c=null===(t=o.accesses)||void 0===t||null===(n=t.filter((function(t){return t.moduleId===e.id})))||void 0===n?void 0:n[0];return void 0!==c&&(e.checked=!0,e.accessId=c.id),e}));r&&(t=t.filter((function(e){return void 0!==e.accessId})).map((function(e){return e.viewOnly=!0,e}))),v(t)}})).catch((function(e){h({message:e.message})})).finally((function(){return p(!1)}));case 3:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}return Object(c.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){n(!1)},title:r?"Role":null!==t&&void 0!==t&&t.id?"Update Role":"Add New Role",children:[Object(l.jsx)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:Object(l.jsx)(bt,{title:"Description",name:"description",value:o.description,onChange:function(e){u((function(t){return Object(G.a)(Object(G.a)({},t),{},Object(q.a)({},e.elementName,e.value))}))},readonly:r})}),Object(l.jsx)("div",{children:Object(l.jsx)(Bt.Provider,{value:b,children:Object(l.jsx)(zt.Provider,{value:function(e){return m.apply(this,arguments)},children:Object(l.jsx)(Vt,{})})})}),!r&&Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return x.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}function Wt(e){var t,n,r,a,i,j=e.usersInfo,f=e.onClose,b=Object(c.useState)([]),v=Object(s.a)(b,2),p=v[0],h=v[1],O=Object(c.useState)([]),x=Object(s.a)(O,2),m=x[0],y=x[1],w=Object(c.useState)((function(){return null!==j&&void 0!==j?j:{id:0,username:"",name:"",active:!1,admin:!1,userRoles:void 0,personnel:void 0,personnelId:void 0}})),g=Object(s.a)(w,2),k=g[0],C=g[1],N=Object(c.useState)([]),S=Object(s.a)(N,2),E=S[0],I=S[1],P=Object(c.useState)([]),D=Object(s.a)(P,2),A=D[0],F=D[1],R=Object(c.useState)((function(){var e;return null!==(e=null===j||void 0===j?void 0:j.userRoles)&&void 0!==e?e:[]})),U=Object(s.a)(R,2),M=U[0],L=U[1],T=Object(c.useState)(!1),V=Object(s.a)(T,2),z=V[0],J=V[1],W=Object(c.useState)(),Q=Object(s.a)(W,2),Z=Q[0],$=Q[1],_=K(),ee=Y();function te(){return(te=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:return e.next=4,ie();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!0),0!==k.id){e.next=6;break}return e.next=4,ot(k,M.map((function(e){return e.roleId}))).then((function(){ee({message:"New User Added",onOk:function(){f(!0)}})})).catch((function(e){ee({message:e.message})})).finally((function(){return _(!1)}));case 4:e.next=8;break;case 6:return e.next=8,lt(k,M.filter((function(e){return 0===e.id})).map((function(e){return e.roleId})),M.filter((function(e){return e.deleted})).map((function(e){return e.id}))).then((function(){ee({message:"User Updated",onOk:function(){f(!0)}})})).catch((function(e){ee({message:e.message})})).finally((function(){return _(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return re.apply(this,arguments)}function re(){return(re=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,xt().then((function(e){void 0!==e&&(y(e),h([{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.name}}))))))})).catch((function(e){ee({message:e.message})})).finally((function(){return _(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){var t=e.elementName,n=e.value;if("role"===t){var c;if("0"===n)return;var r=null===(c=E.filter((function(e){return e.id===+n})))||void 0===c?void 0:c[0];L((function(e){return[].concat(Object(B.a)(e),[{id:0,roleId:r.id,role:r,userId:k.id}])})),F((function(e){return e.filter((function(e){return e.key!==n}))}))}if("personnel"!==t)C((function(e){return void 0===e?Object(q.a)({},t,n):Object(G.a)(Object(G.a)({},e),{},Object(q.a)({},t,n))}));else{var a;if("0"===n)return void C((function(e){return Object(G.a)(Object(G.a)({},e),{},{personnel:void 0,personnelId:void 0})}));var i=null===(a=m.filter((function(e){return e.id===+n})))||void 0===a?void 0:a[0];C((function(e){return Object(G.a)(Object(G.a)({},e),{},{personnel:i,personnelId:i.id,name:i.name})}))}}function ie(){return se.apply(this,arguments)}function se(){return(se=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,Et().then((function(e){void 0!==e&&(I(e),F([{key:"",value:""}].concat(Object(B.a)(e.filter((function(e){var t,n,c;return!(null!==(t=k.userRoles)&&void 0!==t&&null!==(n=t.filter((function(t){return t.roleId===e.id})))&&void 0!==n&&null!==(c=n[0])&&void 0!==c&&c.id)})).map((function(e){return{key:e.id.toString(),value:e.description}}))))))})).catch((function(e){ee({message:e.message})})).finally((function(){_(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){te.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){return f(!1)},title:(null!==(t=null===k||void 0===k?void 0:k.id)&&void 0!==t?t:0)>0?"Update Users Information":"Add New User",children:[Object(l.jsxs)("div",{className:"user-management-modal-body modal-content-body",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)(Mt,{title:"Personnel",name:"personnel",value:null===k||void 0===k||null===(n=k.personnel)||void 0===n?void 0:n.name,onChange:ae,itemsList:p}),Object(l.jsx)(bt,{title:"Username",name:"username",value:null===k||void 0===k?void 0:k.username,onChange:ae})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(Ut,{title:"Is Admin",name:"admin",isCheck:null!==(r=null===k||void 0===k?void 0:k.admin)&&void 0!==r&&r,onChange:ae}),Object(l.jsx)(Ut,{title:"Is Active",name:"active",isCheck:null!==(a=null===k||void 0===k?void 0:k.active)&&void 0!==a&&a,onChange:ae})]}),Object(l.jsx)("div",{children:Object(l.jsx)(Mt,{title:"Role",name:"role",value:null===k||void 0===k||null===(i=k.personnel)||void 0===i?void 0:i.name,onChange:ae,itemsList:A})}),Object(l.jsx)("div",{className:"table-container",children:Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"User Roles"})})}),Object(l.jsx)("tbody",{children:null===M||void 0===M?void 0:M.map((function(e){var t;return Object(l.jsxs)("tr",{className:e.deleted?"deleted":"",children:[Object(l.jsx)("td",{children:null===(t=e.role)||void 0===t?void 0:t.description}),Object(l.jsxs)("td",{className:"table-actions",children:[e.deleted&&Object(l.jsx)(u.a,{icon:o.j,className:"action-icon table-icon-button",onClick:function(){!function(e){L((function(t){return t.map((function(t){return t.roleId===e.roleId&&(t.deleted=!1),t}))}))}(e)},title:"Undo"}),!e.deleted&&Object(l.jsx)(u.a,{icon:o.i,className:"action-icon table-icon-button",onClick:function(){!function(e){var t,n,c,r;L((function(t){return 0===e.id?t.filter((function(t){return t.roleId!==e.roleId})):t.map((function(t){return t.roleId===e.roleId&&(t.deleted=!0),t}))})),0===e.id&&F([].concat(Object(B.a)(A),[{key:null!==(t=null===(n=e.roleId)||void 0===n?void 0:n.toString())&&void 0!==t?t:"",value:null!==(c=null===(r=e.role)||void 0===r?void 0:r.description)&&void 0!==c?c:""}]))}(e)},title:"Delete"}),Object(l.jsx)(u.a,{icon:o.e,className:"action-icon table-icon-button",onClick:function(){!function(e){$(e.role),J(!0)}(e)},title:"View"})]})]},e.roleId)}))})]})})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return ne.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})}),Object(l.jsx)("div",{children:z&&Object(l.jsx)(Jt,{onClose:function(){J(!1)},selectedRole:Z,viewOnly:!0})})]})}function qt(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],v=Object(c.useState)(1),p=Object(s.a)(v,2),h=p[0],O=p[1],x=K(),m=Y(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],E=N[1];function I(e){switch(e.type){case"Activate":t=e.id,n=e.active,m({message:"Active this user?",action:"YESNO",onOk:function(){var e=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,nt(t).then((function(e){u((function(e){return e.map((function(e){return e.id===t&&null!==n&&(e.active=!n),e}))})),m({message:n?"Deactivated":"Activated"})})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}));case 3:case"end":return e.stop()}}),e)})));function c(){return e.apply(this,arguments)}return c}()});break;case"ResetPassword":!function(e){m({message:"Reset Password?",action:"YESNO",onOk:function(){var t=Object(H.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),t.next=3,rt(e).then((function(){m({message:"Password reset to default password"})})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}));case 3:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()})}(e.id);break;case"Edit":k(!0),E(e.user);break;case"Delete":m({message:"Are you sure you want to delete this?",action:"YESNO",onOk:function(){!function(e){P.apply(this,arguments)}(e.id)}});break;default:m({message:"Invalid Action"})}var t,n}function P(){return(P=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,it(t).then((function(){m({message:"User Deleted",onOk:function(){D(n,h)}})})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){x(!0),function(e,t){return tt.apply(this,arguments)}(e,t).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),O(t))})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}))}return Object(c.useEffect)((function(){D(n,h)}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Users"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(ht,{search:function(e){r(e),D(e,1)}})}),Object(l.jsx)("section",{children:Object(l.jsx)(pt,{pages:f,currentPageNumber:h,goInPage:function(e){D(n,e)}})}),Object(l.jsx)("section",{children:Object(l.jsxs)("table",{className:"users-content item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Classification"}),Object(l.jsx)("th",{children:"Username"}),Object(l.jsx)("th",{children:"Role"}),Object(l.jsx)("th",{children:"Status"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:6,children:Object(l.jsx)("button",{className:"btn",onClick:function(){E(void 0),k(!0)},children:"Add New User"})})})]}),Object(l.jsx)("tbody",{children:o.map((function(e){return Object(l.jsx)(Ot,{user:e,action:I},e.id)}))})]})}),Object(l.jsx)(l.Fragment,{children:g&&Object(l.jsx)(Wt,{onClose:function(e){k(!1),e&&D(n,h)},usersInfo:S})})]})}var Gt="/",Ht="/users",Qt="/roles",Xt="/offices",Zt="/personnels",$t="/classifications",_t="/concerns",en="/tickets",tn="/summary",nn=n(120),cn=n(5),rn=n(58);function an(e,t,n,c){return sn.apply(this,arguments)}function sn(){return(sn=Object(H.a)(X.a.mark((function e(t,n,c,r){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="?page=".concat(n,"&isAssigned=").concat(c,"&isClosed=").concat(r),void 0!==t&&(a+="&key="+encodeURI(t)),e.next=4,Ye(je+a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(e,t){return un.apply(this,arguments)}function un(){return(un=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(fe,Object(G.a)(Object(G.a)({},t),{},{personnelId:n}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e){return dn.apply(this,arguments)}function dn(){return(dn=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be("".concat(be,"/").concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(e){return fn.apply(this,arguments)}function fn(){return(fn=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We("".concat(ve,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(pe,{id:t,personnelId:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pn(e){var t,n,r=e.concern,a=Object(c.useContext)(Xn);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:r.entryDate&&new Date(r.entryDate).toLocaleString()}),Object(l.jsx)("td",{children:r.number}),Object(l.jsx)("td",{children:r.description}),Object(l.jsx)("td",{children:null===(t=r.classification)||void 0===t?void 0:t.description}),Object(l.jsx)("td",{children:null===(n=r.office)||void 0===n?void 0:n.description}),Object(l.jsx)("td",{children:r.caller}),Object(l.jsxs)("td",{children:[Object(l.jsx)("div",{children:r.status}),Object(l.jsx)("div",{children:r.closedDate&&new Date(r.closedDate).toLocaleString()})]}),Object(l.jsxs)("td",{className:"table-actions",children:[r.statusId!==v&&Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"ViewAction",payload:r})},children:"View Actions"}),r.statusId===v&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"Assign",payload:r})},children:"Assign To Concerned Personnel"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"Edit",payload:r})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return a({action:"Delete",payload:r.id})},children:"Delete"})]})]})]})}function hn(){var e=Object(c.useContext)(Xn),t=Object(c.useContext)(Qn);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{style:{width:"8%"},children:"Time Entry"}),Object(l.jsx)("th",{style:{width:"10%"},children:"Ticket Number"}),Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{style:{width:"10%"},children:"Classification"}),Object(l.jsx)("th",{style:{width:"20%"},children:"Concern Office"}),Object(l.jsx)("th",{style:{width:"15%"},children:"Caller"}),Object(l.jsx)("th",{style:{width:"8%"},children:"Status"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Concern"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(pn,{concern:e},e.id)}))})]})}function On(e){var t=e.title,n=e.onClose,r=e.concern,a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],j=Object(c.useState)([]),f=Object(s.a)(j,2),b=f[0],v=f[1],p=Object(c.useState)([]),h=Object(s.a)(p,2),O=h[0],x=h[1],m=Object(c.useState)(),y=Object(s.a)(m,2),w=y[0],g=y[1],k=Object(c.useState)(),C=Object(s.a)(k,2),N=C[0],S=C[1],E=K(),I=Y();function P(){return(P=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return e.next=4,D();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return A.apply(this,arguments)}function A(){return(A=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,xt().then((function(e){void 0!==e&&(x(e),u([{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.name}}))))))})).catch((function(e){I({message:e.message})})).finally((function(){return E(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return R.apply(this,arguments)}function R(){return(R=Object(H.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,yt(null!==(t=null===r||void 0===r?void 0:r.classificationId)&&void 0!==t?t:0).then((function(e){void 0!==e&&v([{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.name}})))))})).catch((function(e){I({message:e.message})})).finally((function(){return E(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){var t,n,c=e.elementName,r=e.value;return"personnel"===c?"0"===r?void g(void 0):(g(null===(t=O.filter((function(e){return e.id===+r})))||void 0===t?void 0:t[0]),void S(void 0)):"available-personnel"===c?"0"===r?void S(void 0):(S(null===(n=O.filter((function(e){return e.id===+r})))||void 0===n?void 0:n[0]),void g(void 0)):void 0}function M(){return(M=Object(H.a)(X.a.mark((function e(){var t,c,a,i,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!0),0!==(null!==(t=null!==(c=null===w||void 0===w?void 0:w.id)&&void 0!==c?c:null===N||void 0===N?void 0:N.id)&&void 0!==t?t:0)){e.next=4;break}return I({message:"Select Personnel"}),e.abrupt("return");case 4:return e.next=6,bn(null!==(a=null===r||void 0===r?void 0:r.id)&&void 0!==a?a:0,null!==(i=null!==(s=null===w||void 0===w?void 0:w.id)&&void 0!==s?s:null===N||void 0===N?void 0:N.id)&&void 0!==i?i:0).then((function(e){e&&I({message:"Success",onOk:function(){var e,t;n(!0,null!==(e=null!==(t=null===w||void 0===w?void 0:w.name)&&void 0!==t?t:null===N||void 0===N?void 0:N.name)&&void 0!==e?e:"")}})})).catch((function(e){I({message:e.message})})).finally((function(){return E(!1)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){P.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){return n(!1,"")},title:null!==t&&void 0!==t?t:"Assign Concern",children:[Object(l.jsx)("div",{className:"concern-management-modal-body modal-content-body",children:Object(l.jsxs)("div",{children:[Object(l.jsx)(Mt,{title:"Available Personnel",name:"available-personnel",value:null===N||void 0===N?void 0:N.name,onChange:U,itemsList:b}),Object(l.jsx)(Mt,{title:"All Personnel",name:"personnel",value:null===w||void 0===w?void 0:w.name,onChange:U,itemsList:o})]})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return M.apply(this,arguments)},className:"btn-modal btn-primary",children:"ASSIGN"})})]})}function xn(e,t,n,c){return mn.apply(this,arguments)}function mn(){return(mn=Object(H.a)(X.a.mark((function e(t,n,c,r){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="?isResolved=".concat(t,"&isForwarded=").concat(n,"&isPending=").concat(c,"&page=").concat(r),e.abrupt("return",Ye("".concat(Pe).concat(a)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e){return wn.apply(this,arguments)}function wn(){return(wn=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye("".concat(De,"?concernId=").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e,t){return kn.apply(this,arguments)}function kn(){return(kn=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve(Ae,{id:t,actionTaken:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e,t,n){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(H.a)(X.a.mark((function e(t,n,c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve(Fe,{id:t,personnelId:n,reason:c}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(e,t){return En.apply(this,arguments)}function En(){return(En=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye("".concat(Re,"?month=").concat(t,"&year=").concat(n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(e,t,n){return Pn.apply(this,arguments)}function Pn(){return(Pn=Object(H.a)(X.a.mark((function e(t,n,c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye("".concat(Ue,"?year=").concat(t,"&month=").concat(n,"&day=").concat(c)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(e){var t,n=e.action;return Object(l.jsxs)("div",{className:"concern-action",children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("span",{children:[n.prevPersonnelConcernId?"Forwarded":"Assigned"," to"]}),"\xa0",Object(l.jsxs)("span",{children:["(",n.receivedDate&&new Date(n.receivedDate).toLocaleString(),")"]}),Object(l.jsx)("span",{children:n.prevPersonnelConcernId?"":" By ".concat(n.creator)})]}),Object(l.jsx)("div",{children:null===(t=n.personnel)||void 0===t?void 0:t.name}),Object(l.jsx)("div",{children:"Status"}),Object(l.jsxs)("div",{children:[n.status,n.closedDate&&Object(l.jsxs)("span",{children:[" (",new Date(n.closedDate).toLocaleString(),")"]})]}),n.statusId!==p&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[n.statusId===O?"Reason":"Action Taken",":"]}),Object(l.jsx)("div",{children:n.action})]})]})}function An(e){var t=e.concern,n=e.onClose,r=Object(c.useState)([]),a=Object(s.a)(r,2),i=a[0],o=a[1],u=K(),j=Y();function f(){return(f=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return v.apply(this,arguments)}function v(){return(v=Object(H.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,yn(null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:0).then((function(e){void 0!==e&&o(e)})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(l.jsx)(d,{title:"Concern Actions",onClose:n,children:Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsx)("div",{className:"concern-actions",children:i.map((function(e){return Object(l.jsx)(Dn,{action:e},e.id)}))})})})}function Fn(){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(he);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(){return(Un=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Ye(Oe+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mn(e){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve(xe,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e){return Yn.apply(this,arguments)}function Yn(){return(Yn=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Be("".concat(me,"/").concat(t.id),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kn(){return Vn.apply(this,arguments)}function Vn(){return(Vn=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(ye);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zn(){return(zn=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="?page="+n,void 0!==t&&(c+="&key="+encodeURI(t)),e.next=4,Ye(we+c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bn(e){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve(ge,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wn(e){return qn.apply(this,arguments)}function qn(){return(qn=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Be("".concat(ke,"/").concat(t.id),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(e){var t=e.title,n=e.name,c=e.id,r=e.className,a=e.value,i=e.readonly,s=e.onChange,o=e.lineCount;return Object(l.jsxs)("div",{className:"custom-input no-height",children:[Object(l.jsx)("label",{htmlFor:n,children:t}),Object(l.jsx)("div",{className:"input-container",children:i?Object(l.jsx)("span",{children:a}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("textarea",{rows:o,name:n,id:c,value:a,className:r,onChange:function(e){return null===s||void 0===s?void 0:s({elementName:null!==n&&void 0!==n?n:"",value:e.target.value})}})})})]})}function Hn(e){var t,n,r,a=e.selectedConcern,i=e.onClose,o=Object(c.useState)((function(){return null!==a&&void 0!==a?a:{id:0,number:"",entryDate:void 0,caller:"",description:"",classification:void 0,classificationId:void 0,closedDate:void 0,officeId:void 0,office:void 0,personnel:void 0,personnelId:void 0}})),u=Object(s.a)(o,2),j=u[0],f=u[1],b=Object(c.useState)([]),v=Object(s.a)(b,2),p=v[0],h=v[1],O=Object(c.useState)([]),x=Object(s.a)(O,2),m=x[0],y=x[1],w=Object(c.useState)((function(){return[]})),g=Object(s.a)(w,2),k=g[0],C=g[1],N=Object(c.useState)((function(){return[]})),S=Object(s.a)(N,2),E=S[0],I=S[1],P=Object(c.useState)([]),D=Object(s.a)(P,2),A=D[0],F=D[1],R=Object(c.useState)([]),U=Object(s.a)(R,2),M=U[0],L=U[1],T=Object(c.useState)([]),V=Object(s.a)(T,2),z=V[0],J=V[1],W=Object(c.useState)(),Q=Object(s.a)(W,2),Z=Q[0],$=Q[1],_=Object(c.useState)(),ee=Object(s.a)(_,2),te=ee[0],ne=ee[1],ce=K(),re=Y();function ae(){return(ae=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:return e.next=4,je();case 4:return e.next=6,oe();case 6:return e.next=8,ie();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return se.apply(this,arguments)}function se(){return(se=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,xt().then((function(e){void 0!==e&&(J(e),F([{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.name}}))))))})).catch((function(e){re({message:e.message})})).finally((function(){return ce(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(H.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,yt(null!==(n=null!==t&&void 0!==t?t:null===j||void 0===j?void 0:j.classificationId)&&void 0!==n?n:0).then((function(e){void 0!==e&&(ne(void 0),L([{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.name}}))))))})).catch((function(e){re({message:e.message})})).finally((function(){return ce(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return de.apply(this,arguments)}function de(){return(de=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,Fn().then((function(e){void 0!==e&&(h((function(){return e})),C((function(){return[{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.description}}))))})))})).catch((function(e){re({message:e.message})})).finally((function(){return ce(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return fe.apply(this,arguments)}function fe(){return(fe=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,Kn().then((function(e){void 0!==e&&(y((function(){return e})),I((function(){return[{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.description}}))))})))})).catch((function(e){re({message:e.message})})).finally((function(){return ce(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=Object(H.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce(!0),0!==j.id){e.next=6;break}return e.next=4,on(j,null!==(t=null===Z||void 0===Z?void 0:Z.id)&&void 0!==t?t:null===te||void 0===te?void 0:te.id).then((function(){re({message:"New Concern Added",onOk:function(){var e,t;i(!0,null!==(e=null!==(t=null===Z||void 0===Z?void 0:Z.name)&&void 0!==t?t:null===te||void 0===te?void 0:te.name)&&void 0!==e?e:"")}})})).catch((function(e){re({message:e.message})})).finally((function(){return ce(!1)}));case 4:e.next=8;break;case 6:return e.next=8,ln(j).then((function(){re({message:"Concern Updated",onOk:function(){var e,t;i(!0,null!==(e=null!==(t=null===Z||void 0===Z?void 0:Z.name)&&void 0!==t?t:null===te||void 0===te?void 0:te.name)&&void 0!==e?e:"")}})})).catch((function(e){re({message:e.message})})).finally((function(){return ce(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(H.a)(X.a.mark((function e(t){var n,c,r,a,i,s,o,u;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.elementName,c=t.value,"personnel"!==n){e.next=8;break}if("0"!==c){e.next=5;break}return $(void 0),e.abrupt("return");case 5:return $(null===(r=z.filter((function(e){return e.id===+c})))||void 0===r?void 0:r[0]),ne(void 0),e.abrupt("return");case 8:if("available-personnel"!==n){e.next=15;break}if("0"!==c){e.next=12;break}return ne(void 0),e.abrupt("return");case 12:return ne(null===(a=z.filter((function(e){return e.id===+c})))||void 0===a?void 0:a[0]),$(void 0),e.abrupt("return");case 15:if("office"!==n){e.next=22;break}if("0"!==c){e.next=19;break}return f((function(e){return void 0===e?{office:void 0,officeId:void 0}:Object(G.a)(Object(G.a)({},e),{},{office:void 0,officeId:void 0})})),e.abrupt("return");case 19:return s=null===(i=m.filter((function(e){return e.id===+c})))||void 0===i?void 0:i[0],f((function(e){return void 0===e?{office:s,officeId:s.id}:Object(G.a)(Object(G.a)({},e),{},{office:s,officeId:s.id})})),e.abrupt("return");case 22:if("classification"!==n){e.next=32;break}if("0"!==c){e.next=27;break}return f((function(e){return void 0===e?{classification:void 0,classificationId:void 0}:Object(G.a)(Object(G.a)({},e),{},{classification:void 0,classificationId:void 0})})),L([]),e.abrupt("return");case 27:return u=null===(o=p.filter((function(e){return e.id===+c})))||void 0===o?void 0:o[0],f((function(e){return void 0===e?{classification:u,classificationId:u.id}:Object(G.a)(Object(G.a)({},e),{},{classification:u,classificationId:u.id})})),e.next=31,oe(null===u||void 0===u?void 0:u.id);case 31:return e.abrupt("return");case 32:f((function(e){return void 0===e?Object(q.a)({},n,c):Object(G.a)(Object(G.a)({},e),{},Object(q.a)({},n,c))}));case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){ae.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){return i(!1,"")},title:(null!==(t=null===j||void 0===j?void 0:j.id)&&void 0!==t?t:0)>0?"Update Concern ".concat(j.number):"New Concern",className:"management-modal",children:[Object(l.jsxs)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)(Mt,{title:"Office",name:"office",value:null===j||void 0===j||null===(n=j.office)||void 0===n?void 0:n.description,onChange:ve,itemsList:E})}),Object(l.jsx)("div",{children:Object(l.jsx)(Mt,{title:"Classification",name:"classification",value:null===j||void 0===j||null===(r=j.classification)||void 0===r?void 0:r.description,onChange:ve,itemsList:k})}),Object(l.jsx)("div",{children:Object(l.jsx)(bt,{title:"Caller",name:"caller",value:null===j||void 0===j?void 0:j.caller,onChange:ve})})]}),Object(l.jsx)("div",{children:Object(l.jsx)(Gn,{title:"Description",name:"description",lineCount:7,value:null===j||void 0===j?void 0:j.description,onChange:ve})}),!j.id&&Object(l.jsx)("div",{children:Object(l.jsxs)("div",{children:[Object(l.jsx)(Mt,{title:"Available Personnel",name:"available-personnel",value:null===te||void 0===te?void 0:te.name,onChange:ve,itemsList:M}),Object(l.jsx)(Mt,{title:"All Personnel",name:"personnel",value:null===Z||void 0===Z?void 0:Z.name,onChange:ve,itemsList:A}),Object(l.jsx)("div",{})]})})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return be.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var Qn=Object(c.createContext)([]),Xn=Object(c.createContext)((function(){}));function Zn(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(0),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),b=j[0],v=j[1],p=Object(c.useState)((function(){return[]})),h=Object(s.a)(p,2),O=h[0],x=h[1],m=Object(c.useState)(!1),y=Object(s.a)(m,2),w=y[0],g=y[1],k=Object(c.useState)(!1),C=Object(s.a)(k,2),N=C[0],S=C[1],E=Object(c.useState)(!1),I=Object(s.a)(E,2),P=I[0],D=I[1],A=Object(c.useState)(),F=Object(s.a)(A,2),R=F[0],U=F[1],M=Object(c.useState)(!0),L=Object(s.a)(M,2),T=L[0],V=L[1],z=Object(c.useState)(!1),B=Object(s.a)(z,2),J=B[0],W=B[1],q=K(),G=Y(),Q=Object(c.useState)(),Z=Object(s.a)(Q,2),$=Z[0],_=Z[1];function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(H.a)(X.a.mark((function e(t,n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!1),S(!1),!t){e.next=11;break}return console.log(null===$||void 0===$?void 0:$.state),e.next=6,ce();case 6:return e.next=8,null===$||void 0===$?void 0:$.invoke("NewConcern");case 8:return e.next=10,null===$||void 0===$?void 0:$.invoke("NewTicket",n);case 10:ae({});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(H.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==$){e.next=14;break}return(t=(new nn.a).withUrl(f+Me).configureLogging(cn.a.Information).build()).on("NewConcern",(function(){new Notification("New Concern Added"),ae({})})),t.on("ResolveConcern",(function(e){new Notification("Ticket ".concat(e," Resolved")),ae({})})),e.next=7,t.start();case 7:if(t.state!==rn.b.Connected){e.next=11;break}return e.next=10,t.invoke("JoinConcernCreators");case 10:console.log(t.state);case 11:_(t),e.next=16;break;case 14:return e.next=16,ce();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),G({message:e.t0});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function ce(){return re.apply(this,arguments)}function re(){return(re=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===$||void 0===$?void 0:$.state)!==rn.b.Disconnected){e.next=3;break}return e.next=3,null===$||void 0===$?void 0:$.start();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(H.a)(X.a.mark((function e(t){var c,r,a,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.searchKey,r=t.pageNumber,a=t.isAssigned,i=t.isClosed,q(!0),an(null!==c&&void 0!==c?c:n,null!==r&&void 0!==r?r:b,null!==a&&void 0!==a?a:T,null!==i&&void 0!==i?i:J).then((function(e){void 0!==e&&(x(e.results),u(e.pageCount))})).catch((function(e){G({message:e.message})})).finally((function(){return q(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.next=3,jn(t).then((function(){G({message:"User Deleted",onOk:function(){ae({})}})})).catch((function(e){G({message:e.message})})).finally((function(){return q(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){"Notification"in window?Notification.requestPermission():console.log("This browser does not support desktop notification"),function(){ne.apply(this,arguments)}(),ae({})}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Concerns"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(ht,{search:function(e){r(e),v(1),ae({searchKey:e,pageNumber:1})}})}),Object(l.jsxs)("section",{className:"head-content",children:[Object(l.jsxs)("div",{className:"checkbox-container",children:[Object(l.jsx)(Yt,{text:"Assigned",id:"assigned",checkChange:function(){var e=!T;V(e),ae({isAssigned:e})},isCheck:T}),Object(l.jsx)(Yt,{text:"Closed",id:"closed",checkChange:function(){var e=!J;W(e),ae({isClosed:e})},isCheck:J})]}),Object(l.jsx)(pt,{pages:o,currentPageNumber:b,goInPage:function(e){v(e),ae({pageNumber:e})}})]}),Object(l.jsx)("section",{children:Object(l.jsx)(Qn.Provider,{value:O,children:Object(l.jsx)(Xn.Provider,{value:function(e){switch(e.action){case"Add":U((function(){})),g((function(){return!0}));break;case"ViewAction":U(e.payload),D(!0);break;case"Assign":U(e.payload),S(!0);break;case"Edit":U(e.payload),g(!0);break;case"Delete":G({message:"Are you sure you want to delete this?",action:"YESNO",onOk:function(){!function(e){se.apply(this,arguments)}(e.payload)}});break;default:G({message:"Invalid Action"})}},children:Object(l.jsx)(hn,{})})})}),Object(l.jsxs)(l.Fragment,{children:[w&&Object(l.jsx)(Hn,{onClose:ee,selectedConcern:R}),N&&Object(l.jsx)(On,{onClose:ee,concern:R}),P&&Object(l.jsx)(An,{concern:R,onClose:function(){return D(!1)}})]})]})}function $n(e){var t,n=e.onClose,r=L(),a=V(),i=Object(c.useState)((function(){var e;return{username:null!==(e=null===r||void 0===r?void 0:r.username)&&void 0!==e?e:"",personnel:null===r||void 0===r?void 0:r.personnel,password:"",newPassword:"",confirmNewPassword:""}})),o=Object(s.a)(i,2),u=o[0],j=o[1],f=K(),b=Y();function v(){return(v=Object(H.a)(X.a.mark((function e(){var t,c,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(null!==(t=u.password)&&void 0!==t?t:"")){e.next=5;break}if(""===(null!==(c=u.newPassword)&&void 0!==c?c:"")||""===(null!==(i=u.confirmNewPassword)&&void 0!==i?i:"")){e.next=5;break}if(u.newPassword===u.confirmNewPassword){e.next=5;break}return b({message:"Password not match"}),e.abrupt("return");case 5:return f(!0),e.next=8,jt(u).then((function(){b({message:"Profile Updated",onOk:function(){S(Object(G.a)(Object(G.a)({},r),{},{username:u.username})),a(Object(G.a)(Object(G.a)({},r),{},{username:u.username})),n()}})})).catch((function(e){b({message:e.message})})).finally((function(){return f(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){var t=e.elementName,n=e.value;j((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(q.a)({},t,n))}))}return Object(l.jsxs)(d,{className:"profile-modal",onClose:n,title:"Users Profile",children:[Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsxs)("div",{children:[Object(l.jsx)(bt,{title:"Name",readonly:!0,value:null===u||void 0===u||null===(t=u.personnel)||void 0===t?void 0:t.name}),Object(l.jsx)(bt,{title:"Username",name:"username",value:null===u||void 0===u?void 0:u.username,onChange:p}),Object(l.jsx)(bt,{title:"Old Password",name:"password",value:null===u||void 0===u?void 0:u.password,type:"password",onChange:p}),Object(l.jsx)(bt,{title:"New Password",name:"newPassword",type:"password",value:null===u||void 0===u?void 0:u.newPassword,onChange:p}),Object(l.jsx)(bt,{title:"Confirm New Password",name:"confirmNewPassword",type:"password",value:null===u||void 0===u?void 0:u.confirmNewPassword,onChange:p})]})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return v.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}function _n(e){var t=e.role,n=Object(c.useContext)(nc);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.description}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"View",payload:t})},children:"View"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Edit",payload:t})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Delete",payload:t.id})},children:"Delete"})]})]})}function ec(){var e=Object(c.useContext)(nc),t=Object(c.useContext)(tc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"Description"})}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Role"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(_n,{role:e},e.id)}))})]})}var tc=Object(c.createContext)([]),nc=Object(c.createContext)((function(){}));function cc(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],v=Object(c.useState)(1),p=Object(s.a)(v,2),h=p[0],O=p[1],x=K(),m=Y(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],E=N[1],I=Object(c.useState)(!1),P=Object(s.a)(I,2),D=P[0],A=P[1];function F(e){var t=e.searchKey,c=e.page;x(!0),function(e,t){return Pt.apply(this,arguments)}(null!==t&&void 0!==t?t:n,null!==c&&void 0!==c?c:h).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),void 0!==c&&O(c))})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}))}return Object(c.useEffect)((function(){F({})}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Roles"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(ht,{search:function(e){r(e),F({searchKey:e,page:1})}})}),Object(l.jsx)("section",{children:Object(l.jsx)(pt,{pages:f,currentPageNumber:h,goInPage:function(e){F({page:e})}})}),Object(l.jsx)("section",{children:Object(l.jsx)(tc.Provider,{value:o,children:Object(l.jsx)(nc.Provider,{value:function(e){switch(e.action){case"View":k(!0),E(e.payload),A(!0);break;case"Add":k(!0),E(void 0),A(!1);break;case"Edit":k(!0),E(e.payload),A(!1)}},children:Object(l.jsx)(ec,{})})})}),Object(l.jsx)(l.Fragment,{children:g&&Object(l.jsx)(Jt,{onClose:function(e){k(!1),e&&F({})},selectedRole:S,viewOnly:D})})]})}function rc(e){var t,n,r,a,i=e.concern,s=Object(c.useContext)(uc);return Object(l.jsxs)("tr",{title:null!==i&&void 0!==i&&i.action?(null!==(t=null===i||void 0===i?void 0:i.statusId)&&void 0!==t?t:0)===h?"Action Taken: ".concat(i.action):"Reason: ".concat(i.action):void 0,children:[Object(l.jsx)("td",{children:i.receivedDate&&new Date(i.receivedDate).toLocaleString()}),Object(l.jsx)("td",{children:i.concern.number}),Object(l.jsxs)("td",{children:[Object(l.jsx)("div",{children:i.concern.description}),i.prevPersonnelConcernId&&Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:"Forward Reason: "}),null===(n=i.prevPersonnelConcern)||void 0===n?void 0:n.action]})]}),Object(l.jsx)("td",{children:null===(r=i.concern.classification)||void 0===r?void 0:r.description}),Object(l.jsx)("td",{children:null===(a=i.concern.office)||void 0===a?void 0:a.description}),Object(l.jsx)("td",{children:i.concern.caller}),Object(l.jsxs)("td",{children:[Object(l.jsx)("div",{children:i.status}),Object(l.jsx)("div",{children:i.closedDate&&Object(l.jsxs)("span",{children:[" (",new Date(i.closedDate).toLocaleString(),")"]})})]}),Object(l.jsx)("td",{className:"table-actions",children:i.statusId===p&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"btn",onClick:function(){s({action:"Resolve",payload:i})},children:"Resolve"}),Object(l.jsx)("button",{className:"btn",onClick:function(){s({action:"Forward",payload:i})},children:"Forward"})]})})]})}function ac(){var e=Object(c.useContext)(oc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{style:{width:"8%"},children:"Received Date"}),Object(l.jsx)("th",{style:{width:"10%"},children:"Ticket Number"}),Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{style:{width:"10%"},children:"Classification"}),Object(l.jsx)("th",{style:{width:"20%"},children:"Concern Office"}),Object(l.jsx)("th",{style:{width:"15%"},children:"Caller"}),Object(l.jsx)("th",{style:{width:"8%"},children:"Status"})]})}),Object(l.jsx)("tbody",{children:e.map((function(e){return Object(l.jsx)(rc,{concern:e},e.id)}))})]})}function ic(e){var t=e.onClose,n=e.personnelConcern,r=Object(c.useState)(""),a=Object(s.a)(r,2),i=a[0],o=a[1],u=Object(c.useState)([]),j=Object(s.a)(u,2),f=j[0],b=j[1],v=Object(c.useState)([]),p=Object(s.a)(v,2),h=p[0],O=p[1],x=Object(c.useState)([]),m=Object(s.a)(x,2),y=m[0],w=m[1],g=Object(c.useState)(),k=Object(s.a)(g,2),C=k[0],N=k[1],S=Object(c.useState)(),E=Object(s.a)(S,2),I=E[0],P=E[1],D=K(),A=Y(),F=L();function R(){return(R=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return e.next=4,U();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return M.apply(this,arguments)}function M(){return(M=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,xt().then((function(e){void 0!==e&&(w(e),b([{key:"",value:""}].concat(Object(B.a)(e.filter((function(e){var t;return e.id!==(null===F||void 0===F||null===(t=F.personnel)||void 0===t?void 0:t.id)})).map((function(e){return{key:e.id.toString(),value:e.name}}))))))})).catch((function(e){A({message:e.message})})).finally((function(){return D(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return V.apply(this,arguments)}function V(){return(V=Object(H.a)(X.a.mark((function e(){var t,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,yt(null!==(t=null===n||void 0===n||null===(c=n.concern)||void 0===c?void 0:c.classificationId)&&void 0!==t?t:0).then((function(e){void 0!==e&&O([{key:"",value:""}].concat(Object(B.a)(e.filter((function(e){var t;return e.id!==(null===F||void 0===F||null===(t=F.personnel)||void 0===t?void 0:t.id)})).map((function(e){return{key:e.id.toString(),value:e.name}})))))})).catch((function(e){A({message:e.message})})).finally((function(){return D(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){var t,n,c=e.elementName,r=e.value;return"personnel"===c?"0"===r?void N(void 0):(N(null===(t=y.filter((function(e){return e.id===+r})))||void 0===t?void 0:t[0]),void P(void 0)):"available-personnel"===c?"0"===r?void P(void 0):(P(null===(n=y.filter((function(e){return e.id===+r})))||void 0===n?void 0:n[0]),void N(void 0)):void 0}function J(){return(J=Object(H.a)(X.a.mark((function e(){var c,r,a,s,o;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),0!==(null!==(c=null!==(r=null===C||void 0===C?void 0:C.id)&&void 0!==r?r:null===I||void 0===I?void 0:I.id)&&void 0!==c?c:0)){e.next=4;break}return A({message:"Select Personnel"}),e.abrupt("return");case 4:return e.next=6,Cn(null!==(a=null===n||void 0===n?void 0:n.id)&&void 0!==a?a:0,null!==(s=null!==(o=null===C||void 0===C?void 0:C.id)&&void 0!==o?o:null===I||void 0===I?void 0:I.id)&&void 0!==s?s:0,i).then((function(e){e&&A({message:"Success",onOk:function(){var e,n;t(!0,null!==(e=null!==(n=null===C||void 0===C?void 0:C.name)&&void 0!==n?n:null===I||void 0===I?void 0:I.name)&&void 0!==e?e:"")}})})).catch((function(e){A({message:e.message})})).finally((function(){return D(!1)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){R.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){t(!1,"")},title:"Forward Concern",children:[Object(l.jsx)("div",{className:"concern-management-modal-body modal-content-body",children:Object(l.jsxs)("div",{children:[Object(l.jsx)(Gn,{title:"Reason",lineCount:5,onChange:function(e){o(e.value)}}),Object(l.jsx)(Mt,{title:"Available Personnel",name:"available-personnel",value:null===I||void 0===I?void 0:I.name,onChange:z,itemsList:h}),Object(l.jsx)(Mt,{title:"All Personnel",name:"personnel",value:null===C||void 0===C?void 0:C.name,onChange:z,itemsList:f})]})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return J.apply(this,arguments)},className:"btn-modal btn-primary",children:"FORWARD"})})]})}function sc(e){var t=e.personnelConcern,n=e.onClose,r=Object(c.useState)(""),a=Object(s.a)(r,2),i=a[0],o=a[1],u=K(),j=Y();function f(){return(f=Object(H.a)(X.a.mark((function e(){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,gn(null!==(c=null===t||void 0===t?void 0:t.id)&&void 0!==c?c:0,i).then((function(e){e&&j({message:"Success",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)(d,{onClose:function(){n(!1)},title:"Resolve Concern",children:[Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsx)("div",{children:Object(l.jsx)(Gn,{title:"Action Taken",lineCount:5,onChange:function(e){o(e.value)}})})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return f.apply(this,arguments)},className:"btn-modal btn-primary",children:"RESOLVE"})})]})}var oc=Object(c.createContext)([]),uc=Object(c.createContext)((function(){}));function lc(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(!1),j=Object(s.a)(d,2),b=j[0],v=j[1],p=Object(c.useState)(!1),h=Object(s.a)(p,2),O=h[0],x=h[1],m=Object(c.useState)(!0),y=Object(s.a)(m,2),w=y[0],g=y[1],k=Object(c.useState)(!1),C=Object(s.a)(k,2),N=C[0],S=C[1],E=Object(c.useState)(!1),I=Object(s.a)(E,2),P=I[0],D=I[1],A=Object(c.useState)(1),F=Object(s.a)(A,2),R=F[0],U=F[1],M=Object(c.useState)(0),T=Object(s.a)(M,2),V=T[0],z=T[1],B=L(),J=Y(),W=K(),q=Object(c.useState)(),G=Object(s.a)(q,2),Q=G[0],Z=G[1];function $(){return($=Object(H.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==Q){e.next=13;break}return(n=(new nn.a).withUrl(f+Me).build()).on("NewTicket",(function(){new Notification("New Ticket Assigned"),ne({})})),n.on("ForwardTicket",(function(e){new Notification("New Ticket Forwarded by ".concat(e)),ne({})})),e.next=7,n.start();case 7:if(n.state!==rn.b.Connected){e.next=10;break}return e.next=10,n.invoke("JoinTicket",null===B||void 0===B||null===(t=B.personnel)||void 0===t?void 0:t.name);case 10:Z(n),e.next=15;break;case 13:return e.next=15,_();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),J({message:e.t0});case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function _(){return ee.apply(this,arguments)}function ee(){return(ee=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===Q||void 0===Q?void 0:Q.state)!==rn.b.Disconnected){e.next=3;break}return e.next=3,null===Q||void 0===Q?void 0:Q.start();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.action,e.next="Resolve"===e.t0?3:"Forward"===e.t0?6:9;break;case 3:return u(t.payload),v(!0),e.abrupt("break",11);case 6:return u(t.payload),x(!0),e.abrupt("break",11);case 9:return J({message:"Invalid Action"}),e.abrupt("break",11);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(H.a)(X.a.mark((function e(t){var n,c,a,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,c=t.isResolved,a=t.isForwarded,i=t.isPending,W(!0),e.next=4,xn(null!==c&&void 0!==c?c:N,null!==a&&void 0!==a?a:P,null!==i&&void 0!==i?i:w,null!==n&&void 0!==n?n:R).then((function(e){void 0!==e&&(r(e.results),z(e.pageCount))})).catch((function(e){J({message:e.message})})).finally((function(){return W(!1)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(H.a)(X.a.mark((function e(t,n){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!1),!t){e.next=7;break}return ne({}),e.next=5,_();case 5:return e.next=7,null===Q||void 0===Q?void 0:Q.invoke("ForwardTicket",null===B||void 0===B||null===(c=B.personnel)||void 0===c?void 0:c.name,n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!1),!t){e.next=7;break}return e.next=4,_();case 4:return e.next=6,null===Q||void 0===Q?void 0:Q.invoke("Resolve",null===o||void 0===o?void 0:o.concern.number);case 6:ne({});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){"Notification"in window?Notification.requestPermission():console.log("This browser does not support desktop notification"),function(){$.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){ne({})}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Tickets"})})}),Object(l.jsxs)("section",{className:"head-content",children:[Object(l.jsxs)("div",{className:"checkbox-container",children:[Object(l.jsx)(Yt,{text:"Pending",id:"pending",checkChange:function(){var e=!w;g(e),ne({isPending:e})},isCheck:w}),Object(l.jsx)(Yt,{text:"Resolved",id:"resolved",checkChange:function(){var e=!N;S(e),ne({isResolved:e})},isCheck:N}),Object(l.jsx)(Yt,{text:"Forwarded",id:"forwarded",checkChange:function(){var e=!P;D(e),ne({isForwarded:e})},isCheck:P})]}),Object(l.jsx)(pt,{pages:V,currentPageNumber:R,goInPage:function(e){U(e),ne({page:e})}})]}),Object(l.jsx)("section",{children:Object(l.jsx)(oc.Provider,{value:n,children:Object(l.jsx)(uc.Provider,{value:function(e){return te.apply(this,arguments)},children:Object(l.jsx)(ac,{})})})}),Object(l.jsxs)(l.Fragment,{children:[b&&Object(l.jsx)(sc,{onClose:function(e){return ae.apply(this,arguments)},personnelConcern:o}),O&&Object(l.jsx)(ic,{onClose:function(e,t){return re.apply(this,arguments)},personnelConcern:o})]})]})}function dc(e){var t=e.classification,n=Object(c.useContext)(vc);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.description}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Edit",payload:t})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Delete",payload:t.id})},children:"Delete"})]})]})}function jc(){var e=Object(c.useContext)(vc),t=Object(c.useContext)(bc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"Description"})}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Classification"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(dc,{classification:e},e.id)}))})]})}function fc(e){var t=e.selectedClassification,n=e.onClose,r=Object(c.useState)((function(){return null!==t&&void 0!==t?t:{id:0,description:""}})),a=Object(s.a)(r,2),i=a[0],o=a[1],u=K(),j=Y();function f(){return(f=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),0!==i.id){e.next=6;break}return e.next=4,Mn(i).then((function(){j({message:"Classification Added",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 4:e.next=8;break;case 6:return e.next=8,Tn(i).then((function(){j({message:"Classification Updated",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)(d,{onClose:function(){n(!1)},title:null!==t&&void 0!==t&&t.id?"Update Classificaiton":"Add New Classificaiton",children:[Object(l.jsx)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:Object(l.jsx)(bt,{title:"Description",name:"description",value:i.description,onChange:function(e){o((function(t){return Object(G.a)(Object(G.a)({},t),{},Object(q.a)({},e.elementName,e.value))}))}})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return f.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var bc=Object(c.createContext)([]),vc=Object(c.createContext)((function(){}));function pc(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],v=Object(c.useState)(1),p=Object(s.a)(v,2),h=p[0],O=p[1],x=K(),m=Y(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],E=N[1];function I(e){var t=e.searchKey,c=e.page;x(!0),function(e,t){return Un.apply(this,arguments)}(null!==t&&void 0!==t?t:n,null!==c&&void 0!==c?c:h).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),void 0!==c&&O(c))})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}))}return Object(c.useEffect)((function(){I({})}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Classifications"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(ht,{search:function(e){r(e),I({searchKey:e,page:1})}})}),Object(l.jsx)(pt,{pages:f,currentPageNumber:h,goInPage:function(e){I({page:e})}}),Object(l.jsx)("section",{children:Object(l.jsx)(bc.Provider,{value:o,children:Object(l.jsx)(vc.Provider,{value:function(e){switch(e.action){case"Add":k(!0),E(void 0);break;case"Edit":k(!0),E(e.payload)}},children:Object(l.jsx)(jc,{})})})}),Object(l.jsx)(l.Fragment,{children:g&&Object(l.jsx)(fc,{onClose:function(e){k(!1),e&&I({})},selectedClassification:S})})]})}function hc(e){var t,n=e.personnel,r=Object(c.useContext)(yc);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:n.name}),Object(l.jsx)("td",{children:null===(t=n.classification)||void 0===t?void 0:t.description}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return r({action:"Edit",payload:n})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return r({action:"Delete",payload:n.id})},children:"Delete"})]})]})}function Oc(){var e=Object(c.useContext)(yc),t=Object(c.useContext)(mc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Classification"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Personnel"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(hc,{personnel:e},e.id)}))})]})}function xc(e){var t,n=e.selectedPersonnel,r=e.onClose,a=Object(c.useState)((function(){return null!==n&&void 0!==n?n:{id:0,classification:void 0,classificationId:void 0,name:""}})),i=Object(s.a)(a,2),o=i[0],u=i[1],j=Object(c.useState)([]),f=Object(s.a)(j,2),b=f[0],v=f[1],p=Object(c.useState)([]),h=Object(s.a)(p,2),O=h[0],x=h[1],m=K(),y=Y();function w(){return(w=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return k.apply(this,arguments)}function k(){return(k=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Fn().then((function(e){void 0!==e&&(v((function(){return e})),x((function(){return[{key:"",value:""}].concat(Object(B.a)(e.map((function(e){return{key:e.id.toString(),value:e.description}}))))})))})).catch((function(e){y({message:e.message})})).finally((function(){return m(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),0!==o.id){e.next=6;break}return e.next=4,kt(o).then((function(){y({message:"Personnel Added",onOk:function(){r(!0)}})})).catch((function(e){y({message:e.message})})).finally((function(){return m(!1)}));case 4:e.next=8;break;case 6:return e.next=8,Nt(o).then((function(){y({message:"Personnel Updated",onOk:function(){r(!0)}})})).catch((function(e){y({message:e.message})})).finally((function(){return m(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){var t=e.value,n=e.elementName;if("classification"!==n)u((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(q.a)({},n,t))}));else{var c;if("0"===t)return void u((function(e){return void 0===e?{classification:void 0,classificationId:void 0}:Object(G.a)(Object(G.a)({},e),{},{classification:void 0,classificationId:void 0})}));var r=null===(c=b.filter((function(e){return e.id===+t})))||void 0===c?void 0:c[0];u((function(e){return void 0===e?{classification:r,classificationId:r.id}:Object(G.a)(Object(G.a)({},e),{},{classification:r,classificationId:r.id})}))}}return Object(c.useEffect)((function(){!function(){w.apply(this,arguments)}()}),[]),Object(l.jsxs)(d,{onClose:function(){r(!1)},title:null!==n&&void 0!==n&&n.id?"Update Personnel":"Add New Personnel",children:[Object(l.jsxs)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:[Object(l.jsx)(bt,{title:"Name",name:"name",value:o.name,onChange:N}),Object(l.jsx)(Mt,{title:"Classification",name:"classification",value:null===o||void 0===o||null===(t=o.classification)||void 0===t?void 0:t.description,onChange:N,itemsList:O})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return C.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var mc=Object(c.createContext)([]),yc=Object(c.createContext)((function(){}));function wc(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],v=Object(c.useState)(1),p=Object(s.a)(v,2),h=p[0],O=p[1],x=K(),m=Y(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],E=N[1];function I(e){var t=e.searchKey,c=e.page;x(!0),function(e,t){return gt.apply(this,arguments)}(null!==t&&void 0!==t?t:n,null!==c&&void 0!==c?c:h).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),void 0!==c&&O(c))})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}))}return Object(c.useEffect)((function(){I({})}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Personnels"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(ht,{search:function(e){r(e),I({searchKey:e,page:1})}})}),Object(l.jsx)("section",{children:Object(l.jsx)(pt,{pages:f,currentPageNumber:h,goInPage:function(e){I({page:e})}})}),Object(l.jsx)("section",{children:Object(l.jsx)(mc.Provider,{value:o,children:Object(l.jsx)(yc.Provider,{value:function(e){switch(e.action){case"Add":k(!0),E(void 0);break;case"Edit":k(!0),E(e.payload)}},children:Object(l.jsx)(Oc,{})})})}),Object(l.jsx)(l.Fragment,{children:g&&Object(l.jsx)(xc,{onClose:function(e){k(!1),e&&I({})},selectedPersonnel:S})})]})}function gc(e){var t=e.office,n=Object(c.useContext)(Sc);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.description}),Object(l.jsx)("td",{children:t.abbreviation}),Object(l.jsxs)("td",{className:"table-actions",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Edit",payload:t})},children:"Edit"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return n({action:"Delete",payload:t.id})},children:"Delete"})]})]})}function kc(){var e=Object(c.useContext)(Sc),t=Object(c.useContext)(Nc);return Object(l.jsxs)("table",{className:"item-table",children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{children:"Abbreviation"})]}),Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:10,children:Object(l.jsx)("button",{className:"btn",onClick:function(){e({action:"Add"})},children:"Add New Office"})})})]}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(gc,{office:e},e.id)}))})]})}function Cc(e){var t=e.selectedOffice,n=e.onClose,r=Object(c.useState)((function(){return null!==t&&void 0!==t?t:{id:0,description:"",abbreviation:""}})),a=Object(s.a)(r,2),i=a[0],o=a[1],u=K(),j=Y();function f(){return(f=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),0!==i.id){e.next=6;break}return e.next=4,Bn(i).then((function(){j({message:"Office Added",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 4:e.next=8;break;case 6:return e.next=8,Wn(i).then((function(){j({message:"Office Updated",onOk:function(){n(!0)}})})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){o((function(t){return Object(G.a)(Object(G.a)({},t),{},Object(q.a)({},e.elementName,e.value))}))}return Object(l.jsxs)(d,{onClose:function(){n(!1)},title:null!==t&&void 0!==t&&t.id?"Update Office":"Add New Office",children:[Object(l.jsxs)("div",{className:"concern-management-modal-body modal-content-body concern-management",children:[Object(l.jsx)(bt,{title:"Description",name:"description",value:i.description,onChange:b}),Object(l.jsx)(bt,{title:"Abbreviation",name:"abbreviation",value:i.abbreviation,onChange:b})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{onClick:function(){return f.apply(this,arguments)},className:"btn-modal btn-primary",children:"SAVE"})})]})}var Nc=Object(c.createContext)([]),Sc=Object(c.createContext)((function(){}));function Ec(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1],d=Object(c.useState)(1),j=Object(s.a)(d,2),f=j[0],b=j[1],v=Object(c.useState)(1),p=Object(s.a)(v,2),h=p[0],O=p[1],x=K(),m=Y(),y=Object(c.useState)(!1),w=Object(s.a)(y,2),g=w[0],k=w[1],C=Object(c.useState)(),N=Object(s.a)(C,2),S=N[0],E=N[1];function I(e){var t=e.searchKey,c=e.page;x(!0),function(e,t){return zn.apply(this,arguments)}(null!==t&&void 0!==t?t:n,null!==c&&void 0!==c?c:h).then((function(e){void 0!==e&&(u(e.results),b(e.pageCount),void 0!==c&&O(c))})).catch((function(e){m({message:e.message})})).finally((function(){return x(!1)}))}return Object(c.useEffect)((function(){I({})}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("div",{className:"header-text",children:"Offices"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(ht,{search:function(e){r(e),I({searchKey:e,page:1})}})}),Object(l.jsx)("section",{children:Object(l.jsx)(pt,{pages:f,currentPageNumber:h,goInPage:function(e){I({page:e})}})}),Object(l.jsx)("section",{children:Object(l.jsx)(Nc.Provider,{value:o,children:Object(l.jsx)(Sc.Provider,{value:function(e){switch(e.action){case"Add":k(!0),E(void 0);break;case"Edit":k(!0),E(e.payload)}},children:Object(l.jsx)(kc,{})})})}),Object(l.jsx)(l.Fragment,{children:g&&Object(l.jsx)(Cc,{onClose:function(e){k(!1),e&&I({})},selectedOffice:S})})]})}function Ic(){return Object(l.jsx)("div",{})}function Pc(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}function Dc(e,t){var n=new Date(e);return n.setMonth(n.getMonth()+t),n}function Ac(e){var t=new Date(e);return t.setDate(1),t=Pc(t=Dc(t,1),-1)}function Fc(e){var t=new Date(e);return t.setDate(1),t}function Rc(e){var t,n,c,r=e.concern;return Object(l.jsxs)("div",{className:"concern-action",children:[Object(l.jsx)("div",{children:"Received Date & Time"}),Object(l.jsx)("div",{children:r.receivedDate&&new Date(r.receivedDate).toLocaleString()}),Object(l.jsx)("div",{children:"Concern"}),Object(l.jsx)("div",{children:r.concern.description}),r.prevPersonnelConcernId&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:"Forwarded By"}),Object(l.jsx)("div",{children:null===(t=r.prevPersonnelConcern)||void 0===t||null===(n=t.personnel)||void 0===n?void 0:n.name}),Object(l.jsx)("div",{children:"Forwarded Reason"}),Object(l.jsx)("div",{children:null===(c=r.prevPersonnelConcern)||void 0===c?void 0:c.action})]}),Object(l.jsx)("div",{children:"Status"}),Object(l.jsxs)("div",{children:[r.status,r.closedDate&&Object(l.jsxs)("span",{children:[" (",new Date(r.closedDate).toLocaleString(),")"]})]}),r.statusId!==p&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[r.statusId===O?"Reason":"Action Taken",":"]}),Object(l.jsx)("div",{children:r.action})]})]})}function Uc(e){var t=e.date,n=e.onClose,r=Object(c.useState)([]),a=Object(s.a)(r,2),i=a[0],o=a[1],u=K(),j=Y();function f(){return(f=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return v.apply(this,arguments)}function v(){return(v=Object(H.a)(X.a.mark((function e(){var n,c,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,In(null!==(n=null===t||void 0===t?void 0:t.getFullYear())&&void 0!==n?n:0,(null!==(c=null===t||void 0===t?void 0:t.getMonth())&&void 0!==c?c:0)+1,null!==(r=null===t||void 0===t?void 0:t.getDate())&&void 0!==r?r:0).then((function(e){void 0!==e&&o(e)})).catch((function(e){j({message:e.message})})).finally((function(){return u(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(l.jsx)(d,{title:"Closed Concerns",className:"concern-detail",onClose:n,children:Object(l.jsx)("div",{className:"modal-content-body",children:Object(l.jsx)("div",{className:"concern-actions",children:i.map((function(e){return Object(l.jsx)(Rc,{concern:e},e.id)}))})})})}function Mc(){var e,t=Y(),n=K(),r=Object(c.useState)((function(){return new Date})),a=Object(s.a)(r,2),i=a[0],d=a[1],j=Object(c.useState)((function(){return[]})),f=Object(s.a)(j,2),b=f[0],v=f[1],p=Object(c.useState)(void 0),h=Object(s.a)(p,2),O=h[0],x=h[1],m=Object(c.useState)(!1),y=Object(s.a)(m,2),w=y[0],g=y[1];function k(){return(k=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,Sn(i.getMonth()+1,i.getFullYear()).then((function(e){var t,n=Fc(i),c=Ac(i),r=n.getDay(),a=n,s=(null!==(t=c.getDate())&&void 0!==t?t:0)+r+(6-c.getDay()),o=[];r>0&&(a=Pc(n,-r));for(var u=0;u<s;u++){var l,d=null===e||void 0===e||null===(l=e.filter((function(e){return new Date(e.date).toDateString()===a.toDateString()})))||void 0===l?void 0:l[0];o=[].concat(Object(B.a)(o),[{date:a,summary:d}]),a=Pc(a,1)}v((function(){return o}))})).catch((function(e){t({message:e.message})})).finally((function(){return n(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){k.apply(this,arguments)}()}),[i]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("div",{className:"header-text",children:"Ticket Summary"}),Object(l.jsxs)("div",{className:"date-action",children:[Object(l.jsx)(u.a,{icon:o.c,onClick:function(){return d((function(){return Dc(i,-1)}))}}),Object(l.jsxs)("div",{className:"month-year",children:[Object(l.jsx)("div",{onClick:function(){return t({message:"month"})},children:(e=i,(0,new Intl.DateTimeFormat("en-US",{month:"long"}).format)(e))}),Object(l.jsx)("div",{onClick:function(){return t({message:"month"})},children:i.getFullYear()})]}),Object(l.jsx)(u.a,{icon:o.d,onClick:function(){return d((function(){return Dc(i,1)}))},className:i.getMonth()===(new Date).getMonth()&&i.getFullYear()===(new Date).getFullYear()?"stop":""})]})]})}),Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"calendar",children:[Object(l.jsx)("div",{className:"day-header",children:"Su"}),Object(l.jsx)("div",{className:"day-header",children:"Mo"}),Object(l.jsx)("div",{className:"day-header",children:"Tu"}),Object(l.jsx)("div",{className:"day-header",children:"We"}),Object(l.jsx)("div",{className:"day-header",children:"Th"}),Object(l.jsx)("div",{className:"day-header",children:"Fr"}),Object(l.jsx)("div",{className:"day-header",children:"Sa"}),b.map((function(e,t){var n,c,r,a,s,o;return Object(l.jsxs)("div",{className:"date ".concat(e.date.getMonth()===i.getMonth()?"current-month":"non"," ").concat(e.date.toDateString()===(new Date).toDateString()?"current":""," ").concat(null!==(n=e.summary)&&void 0!==n&&n.noOfResolved||null!==(c=e.summary)&&void 0!==c&&c.noOfForwarded?"has-data":""),onClick:function(){var t,n;if(null!==(t=e.summary)&&void 0!==t&&t.noOfResolved||null!==(n=e.summary)&&void 0!==n&&n.noOfForwarded)return x(e.date),void g(!0);e.date.getMonth()<i.getMonth()||e.date.getFullYear()<i.getFullYear()?d(e.date):i.getMonth()===(new Date).getMonth()||i.getFullYear()!==(new Date).getFullYear()||(e.date.getMonth()>i.getMonth()||e.date.getFullYear()>i.getFullYear())&&d(e.date)},children:[Object(l.jsx)("div",{className:"day",children:e.date.getDate()}),Object(l.jsxs)("div",{className:"remarks",children:[!(null===(r=e.summary)||void 0===r||!r.noOfResolved)&&Object(l.jsxs)("div",{children:["RESOLVED: ",null===(a=e.summary)||void 0===a?void 0:a.noOfResolved]}),!(null===(s=e.summary)||void 0===s||!s.noOfForwarded)&&Object(l.jsxs)("div",{children:["FORWARDED: ",null===(o=e.summary)||void 0===o?void 0:o.noOfForwarded]})]})]},t)}))]})}),Object(l.jsx)(l.Fragment,{children:w&&Object(l.jsx)(Uc,{date:O,onClose:function(){g(!1),x(void 0)}})})]})}function Lc(){var e,t,n,r,a,i,o,u,d,j,f,b,v,p,h,O,x,m,y,w,g,k,C,N,S,I,P,D,A,F,R,U,M=Object(c.useState)(!1),K=Object(s.a)(M,2),V=K[0],z=K[1],q=Object(c.useContext)(E),G=L(),H=T(),Q=Y(),X=Object(c.useMemo)((function(){var e,t,n,c;return Object(B.a)(null!==G&&void 0!==G&&G.admin?[{head:"Transactions",navs:[{route:_t,name:"Concerns"},{route:en,name:"Tickets"},{route:tn,name:"Summary"}]},{head:"Maintenances",navs:[{route:Ht,name:"Users"},{route:Zt,name:"Personnels"},{route:Qt,name:"Roles"},{route:$t,name:"Classifications"},{route:Xt,name:"Offices"}]}]:[{head:"Transactions",navs:Object(B.a)(null!==(e=null===G||void 0===G||null===(t=G.distinctModules)||void 0===t?void 0:t.filter((function(e){return"Transaction"===e.header})).map((function(e){return{route:e.route,name:e.description}})))&&void 0!==e?e:[])},{head:"Maintenances",navs:Object(B.a)(null!==(n=null===G||void 0===G||null===(c=G.distinctModules)||void 0===c?void 0:c.filter((function(e){return"Maintenance"===e.header})).map((function(e){return{route:e.route,name:e.description}})))&&void 0!==n?n:[])}])}),[null===G||void 0===G?void 0:G.distinctModules,null===G||void 0===G?void 0:G.admin]);return Object(l.jsx)(l.Fragment,{children:q?Object(l.jsxs)(J.a,{children:[Object(l.jsx)("header",{children:Object(l.jsxs)("nav",{children:[Object(l.jsxs)("div",{className:"menu-container",children:[Object(l.jsx)(J.b,{to:Gt,exact:!0,className:"nav-icon",children:"TICKETING SYSTEM"}),(null!==(e=null===G||void 0===G||null===(t=G.distinctModules)||void 0===t?void 0:t.length)&&void 0!==e?e:0)<=3&&(null!==(n=null===G||void 0===G||null===(r=G.distinctModules)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0?Object(l.jsx)(l.Fragment,{children:null===G||void 0===G||null===(a=G.distinctModules)||void 0===a?void 0:a.map((function(e){var t;return Object(l.jsx)(J.b,{to:null!==(t=e.route)&&void 0!==t?t:"",exact:!0,className:"nav-menu",children:e.description},e.accessId)}))}):Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"nav-menu",children:"Menus"}),Object(l.jsx)("div",{className:"menus",children:X.filter((function(e){return e.navs.length>0})).map((function(e){return Object(l.jsxs)("div",{className:"menu-items",children:[Object(l.jsx)("div",{className:"head",children:e.head}),Object(l.jsx)("div",{className:"navs",children:e.navs.map((function(e){var t;return Object(l.jsx)("div",{children:Object(l.jsx)(J.b,{to:null!==(t=e.route)&&void 0!==t?t:"",exact:!0,className:"nav-menu",children:e.name})},e.route)}))})]},e.head)}))})]})]}),Object(l.jsxs)("div",{className:"menu-container",children:[Object(l.jsx)("label",{className:"user-name nav-menu",onClick:function(){return z(!0)},children:"".concat(null===G||void 0===G||null===(i=G.personnel)||void 0===i?void 0:i.name," (").concat(null===G||void 0===G||null===(o=G.personnel)||void 0===o||null===(u=o.classification)||void 0===u?void 0:u.description,")")}),Object(l.jsx)("label",{onClick:function(){Q({message:"Continue to logout?",action:"YESNO",onOk:function(){H(!1),z(!1)}})},className:"nav-menu",children:"Logout"})]})]})}),Object(l.jsxs)(W.c,{children:[Object(l.jsx)(W.a,{path:Gt,exact:!0,component:Ic}),((null===G||void 0===G||null===(d=G.distinctModules)||void 0===d||null===(j=d.filter((function(e){return e.route===Ht})))||void 0===j||null===(f=j[0])||void 0===f?void 0:f.id)||(null===G||void 0===G?void 0:G.admin))&&Object(l.jsx)(W.a,{path:Ht,exact:!0,component:qt}),((null===G||void 0===G||null===(b=G.distinctModules)||void 0===b||null===(v=b.filter((function(e){return e.route===Qt})))||void 0===v||null===(p=v[0])||void 0===p?void 0:p.id)||(null===G||void 0===G?void 0:G.admin))&&Object(l.jsx)(W.a,{path:Qt,exact:!0,component:cc}),((null===G||void 0===G||null===(h=G.distinctModules)||void 0===h||null===(O=h.filter((function(e){return e.route===_t})))||void 0===O||null===(x=O[0])||void 0===x?void 0:x.id)||(null===G||void 0===G?void 0:G.admin))&&Object(l.jsx)(W.a,{path:_t,exact:!0,component:Zn}),((null===G||void 0===G||null===(m=G.distinctModules)||void 0===m||null===(y=m.filter((function(e){return e.route===en})))||void 0===y||null===(w=y[0])||void 0===w?void 0:w.id)||(null===G||void 0===G?void 0:G.admin))&&Object(l.jsx)(W.a,{path:en,exact:!0,component:lc}),((null===G||void 0===G||null===(g=G.distinctModules)||void 0===g||null===(k=g.filter((function(e){return e.route===$t})))||void 0===k||null===(C=k[0])||void 0===C?void 0:C.id)||(null===G||void 0===G?void 0:G.admin))&&Object(l.jsx)(W.a,{path:$t,exact:!0,component:pc}),((null===G||void 0===G||null===(N=G.distinctModules)||void 0===N||null===(S=N.filter((function(e){return e.route===Zt})))||void 0===S||null===(I=S[0])||void 0===I?void 0:I.id)||(null===G||void 0===G?void 0:G.admin))&&Object(l.jsx)(W.a,{path:Zt,exact:!0,component:wc}),((null===G||void 0===G||null===(P=G.distinctModules)||void 0===P||null===(D=P.filter((function(e){return e.route===Xt})))||void 0===D||null===(A=D[0])||void 0===A?void 0:A.id)||(null===G||void 0===G?void 0:G.admin))&&Object(l.jsx)(W.a,{path:Xt,exact:!0,component:Ec}),((null===G||void 0===G||null===(F=G.distinctModules)||void 0===F||null===(R=F.filter((function(e){return e.route===tn})))||void 0===R||null===(U=R[0])||void 0===U?void 0:U.id)||(null===G||void 0===G?void 0:G.admin))&&Object(l.jsx)(W.a,{path:tn,exact:!0,component:Mc})]}),Object(l.jsx)("div",{children:V&&Object(l.jsx)($n,{onClose:function(){return z(!1)}})})]}):Object(l.jsx)(vt,{})})}n(118);var Tc=function(){return Object(l.jsx)(z,{children:Object(l.jsx)(Lc,{})})};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(Tc,{})}),document.getElementById("root"))},64:function(e,t,n){},69:function(e,t){}},[[119,1,2]]]);
//# sourceMappingURL=main.12f7eb5f.chunk.js.map